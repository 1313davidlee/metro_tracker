{"ast":null,"code":"var _jsxFileName = \"/Users/leed/Documents/metro_tracker/src/positions.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport './App.css';\n\nconst PositionMap = props => {\n  const [positions, setPositions] = useState(null);\n  const [lineCode, setLineCode] = useState('BL');\n  const [currentLine, setCurrentLine] = useState(null);\n  useEffect(() => {\n    axios.get(`${process.env.REACT_APP_POSITION_API}StandardRoutes?contentType=json&api_key=${process.env.REACT_APP_SECRET}`).then(data => {\n      console.log('pos data', data);\n      setPositions(data);\n    });\n  }, []);\n  useEffect(() => {\n    if (positions && lineCode) {\n      console.log(positions);\n      positions.data.StandardRoutes.map(line => {\n        if (line.lineCode === lineCode) {\n          setCurrentLine(line);\n          console.log(line);\n        }\n      });\n    }\n  }, [lineCode, positions]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }\n  }, \"This is the psoitons map\");\n};\n\nexport default PositionMap;","map":{"version":3,"sources":["/Users/leed/Documents/metro_tracker/src/positions.js"],"names":["React","useEffect","useState","axios","PositionMap","props","positions","setPositions","lineCode","setLineCode","currentLine","setCurrentLine","get","process","env","REACT_APP_POSITION_API","REACT_APP_SECRET","then","data","console","log","StandardRoutes","map","line"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,WAAP;;AAGA,MAAMC,WAAW,GAAGC,KAAK,IAAI;AAEzB,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BL,QAAQ,CAAC,IAAD,CAA1C;AACA,QAAM,CAACM,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,IAAD,CAAxC;AACA,QAAM,CAACQ,WAAD,EAAcC,cAAd,IAAgCT,QAAQ,CAAC,IAAD,CAA9C;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZE,IAAAA,KAAK,CAACS,GAAN,CAAW,GAAEC,OAAO,CAACC,GAAR,CAAYC,sBAAuB,2CAA0CF,OAAO,CAACC,GAAR,CAAYE,gBAAiB,EAAvH,EACEC,IADF,CACQC,IAAD,IAAU;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBF,IAAxB;AACDX,MAAAA,YAAY,CAACW,IAAD,CAAZ;AACD,KAJF;AAKD,GANM,EAMJ,EANI,CAAT;AAQAjB,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAGK,SAAS,IAAIE,QAAhB,EAA0B;AACtBW,MAAAA,OAAO,CAACC,GAAR,CAAYd,SAAZ;AACAA,MAAAA,SAAS,CAACY,IAAV,CAAeG,cAAf,CAA8BC,GAA9B,CAAmCC,IAAD,IAAU;AACxC,YAAIA,IAAI,CAACf,QAAL,KAAkBA,QAAtB,EAA+B;AAC3BG,UAAAA,cAAc,CAACY,IAAD,CAAd;AACAJ,UAAAA,OAAO,CAACC,GAAR,CAAYG,IAAZ;AACH;AACJ,OALD;AAMH;AAGJ,GAZQ,EAYN,CAACf,QAAD,EAAWF,SAAX,CAZM,CAAT;AAgBE,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADJ;AAQL,CAtCD;;AAwCA,eAAeF,WAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport './App.css';\n\n\nconst PositionMap = props => {\n\n    const [positions, setPositions] = useState(null)\n    const [lineCode, setLineCode] = useState('BL')\n    const [currentLine, setCurrentLine] = useState(null)\n\n    useEffect(() => {\n        axios.get(`${process.env.REACT_APP_POSITION_API}StandardRoutes?contentType=json&api_key=${process.env.REACT_APP_SECRET}`)\n         .then((data) => {\n            console.log('pos data', data)\n           setPositions(data)\n         })\n      }, [])\n\n    useEffect(() => {\n        if(positions && lineCode) {\n            console.log(positions)\n            positions.data.StandardRoutes.map((line) => {\n                if (line.lineCode === lineCode){\n                    setCurrentLine(line)\n                    console.log(line)\n                }\n            })\n        }\n\n        \n    }, [lineCode, positions])\n\n\n\n      return(\n          <div>This is the psoitons map</div>\n          \n      )\n\n    \n\n\n}\n\nexport default PositionMap"]},"metadata":{},"sourceType":"module"}